{% extends 'emp_base.html' %}
{% block main %}
<div class="card shadow m-2">
    <div class="card-body">
        <h5 class="p-2 text-danger" style="border-bottom: 2px solid orange;">Profile</h5>
        <div class="container-fluid">
            <form method="post">
                {% csrf_token %}
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="firstname">First Name:</label>
                            <input type="text" id="firstname" name="firstname" class="form-control" placeholder="Enter First Name" value="{{ user.first_name }}" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="lastname">Last Name:</label>
                            <input type="text" id="lastname" name="lastname" class="form-control" placeholder="Enter Last Name" value="{{ user.last_name }}" required />
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="email">Email Id:</label>
                            <input type="email" id="email" name="email" class="form-control" placeholder="Email Id" value="{{ user.email }}" required />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="contact">Contact:</label>
                            <input type="text" id="contact" name="contact" class="form-control" placeholder="Contact" value="{{ employee.contact }}" />
                        </div>
                    </div>
                </div>
                <div class="form-row">
                     <div class="col-md-6">
        <div class="col-md-6">
        <div class="form-group">
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" class="form-control">
                <option value="">Select Gender</option>
                {% for choice_key, choice_value in gender_choices %}
                <option value="{{ choice_key }}" {% if employee and employee.gender == choice_key %} selected {% endif %}>{{ choice_value }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="department">Employee Department:</label>
                            <input type="text" id="department" name="department" class="form-control" placeholder="Department" value="{{ employee.empDept }}" required />
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="employeeId">Employee ID:</label>
                            <input type="text" id="employeeId" name="employeeId" class="form-control" placeholder="EmployeeId" value="{{ employee.employeeId }}" />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="designation">Employee Designation:</label>
                            <input type="text" id="designation" name="designation" class="form-control" placeholder="Designation" value="{{ employee.designation }}" />
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="joining_date">Joining Date:</label>
                            <input type="date" id="joining_date" name="joining_date" class="form-control" placeholder="Joining_date" value="{{ employee.joining_date|date:'Y-m-d' }}"/>
                        </div>
                    </div>
                </div>
                <input type="submit" value="Submit" class="btn btn-primary mt-3 w-50" />
            </form>
        </div>
    </div>
</div>

{% if error == "no" %}
<script>
    alert('Update Successful');
    window.location.href = '{% url 'emp_home' %}';
</script>
{% endif %}

{% if error == "yes" %}
<script>
    alert("Something went wrong, Try again...");
</script>
{% endif %}
{% endblock %}
